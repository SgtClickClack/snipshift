(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{7863:function(e,t,r){Promise.resolve().then(r.bind(r,467)),Promise.resolve().then(r.t.bind(r,1e3,23)),Promise.resolve().then(r.t.bind(r,6354,23))},467:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ClientProviders}});var n=r(7573);r(9585);var o=r(4751),i=r(2106),a=r(5019),l=r(8620),u=r(7324);let s=(0,u.Z)({palette:{mode:"light",primary:{main:"#FF6B6B",light:"#FF8A8A",dark:"#E55555",contrastText:"#FFFFFF"},secondary:{main:"#4ECDC4",light:"#6FDDD6",dark:"#3BB5AD",contrastText:"#FFFFFF"},background:{default:"#F8F9FA",paper:"#FFFFFF"},text:{primary:"#2C3E50",secondary:"#7F8C8D"}},typography:{fontFamily:"Inter, sans-serif",h1:{fontWeight:700},h2:{fontWeight:600},h3:{fontWeight:600},h4:{fontWeight:500},h5:{fontWeight:500},h6:{fontWeight:500}},shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:500}}},MuiCard:{styleOverrides:{root:{boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}}}});var c=r(1135);let d=new l.QueryClient({defaultOptions:{queries:{staleTime:3e5,cacheTime:6e5,retry:2,refetchOnWindowFocus:!1}}});var h=r(6246),f=r(2851);function ClientProviders(e){let{children:t}=e;return(0,n.jsx)(a.e,{client:c.l,children:(0,n.jsx)(l.QueryClientProvider,{client:d,children:(0,n.jsxs)(o.Z,{theme:s,children:[(0,n.jsx)(i.ZP,{}),(0,n.jsx)(h.H,{children:(0,n.jsx)(f.J,{children:t})})]})})})}},1135:function(e,t,r){"use strict";r.d(t,{M:function(){return testApiConnectivity},l:function(){return h}});var n=r(5943),o=r(4859),i=r(3859),a=r(2738),l=r(6746),u=r(6952);let s=(0,n.L)({uri:"/graphql"}),c=(0,l.v)((e,t)=>{let{headers:r}=t,n=localStorage.getItem("authToken");return{headers:{...r,authorization:n?"Bearer ".concat(n):""}}}),d=(0,u.q)(e=>{let{graphQLErrors:t,networkError:r,operation:n,forward:o}=e;t&&t.forEach(e=>{let{message:t,locations:r,path:n}=e;console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(r,", Path: ").concat(n))}),r&&(console.log("[Network error]: ".concat(r)),"statusCode"in r&&401===r.statusCode&&(localStorage.removeItem("authToken"),window.location.href="/auth/login"))}),h=new o.f({link:(0,i.D)([d,c,s]),cache:new a.h({typePolicies:{Query:{fields:{}}}}),defaultOptions:{watchQuery:{errorPolicy:"all"},query:{errorPolicy:"all"}}}),testApiConnectivity=async()=>{try{console.log("\uD83D\uDD0D Testing API connectivity...");let{GET_USER_ROLES:e}=await Promise.all([r.e(251),r.e(553)]).then(r.bind(r,1553)),t=await h.query({query:e,fetchPolicy:"network-only"});return console.log("✅ API connectivity test successful:",t.data),{success:!0,data:t.data}}catch(e){return console.error("❌ API connectivity test failed:",e),{success:!1,error:e}}}},6246:function(e,t,r){"use strict";r.d(t,{H:function(){return AuthProvider},a:function(){return useAuth}});var n=r(7573),o=r(9585);let i={user:null,token:null,loading:!0,isAuthenticated:!1},authReducer=(e,t)=>{switch(t.type){case"SET_LOADING":return{...e,loading:t.payload};case"SET_AUTH":return{...e,user:t.payload.user,token:t.payload.token,isAuthenticated:!0,loading:!1};case"CLEAR_AUTH":return{...e,user:null,token:null,isAuthenticated:!1,loading:!1};case"UPDATE_USER":return{...e,user:e.user?{...e.user,...t.payload}:null};default:return e}},a=(0,o.createContext)(null),useAuth=()=>{let e=(0,o.useContext)(a);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},AuthProvider=e=>{let{children:t}=e,[r,l]=(0,o.useReducer)(authReducer,i);return(0,o.useEffect)(()=>{let e=localStorage.getItem("authToken"),t=localStorage.getItem("userData");if(e&&t)try{let r=JSON.parse(t);l({type:"SET_AUTH",payload:{user:r,token:e}})}catch(e){console.error("Error parsing stored user data:",e),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),l({type:"SET_LOADING",payload:!1})}else l({type:"SET_LOADING",payload:!1})},[]),(0,n.jsx)(a.Provider,{value:{state:r,dispatch:l},children:t})}},2851:function(e,t,r){"use strict";r.d(t,{J:function(){return NotificationProvider},l:function(){return useNotification}});var n=r(7573),o=r(9585),i=r(9155),a=r(8434);let l=(0,o.createContext)(null),useNotification=()=>{let e=(0,o.useContext)(l);if(!e)throw Error("useNotification must be used within a NotificationProvider");return e},NotificationProvider=e=>{let{children:t}=e,[r,u]=(0,o.useState)(!1),[s,c]=(0,o.useState)(""),[d,h]=(0,o.useState)("info"),handleClose=()=>{u(!1)};return(0,n.jsxs)(l.Provider,{value:{showNotification:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";c(e),h(t),u(!0)}},children:[t,(0,n.jsx)(i.Z,{open:r,autoHideDuration:6e3,onClose:handleClose,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,n.jsx)(a.Z,{onClose:handleClose,severity:d,sx:{width:"100%"},children:s})})]})}},1e3:function(){}},function(e){e.O(0,[424,292,471,567,293,53,744],function(){return e(e.s=7863)}),_N_E=e.O()}]);