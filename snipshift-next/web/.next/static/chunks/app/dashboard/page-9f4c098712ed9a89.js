(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{4274:function(e,t,r){Promise.resolve().then(r.bind(r,1087))},1087:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return DashboardPage}});var n=r(7573);r(9585);var s=r(6254),a=r(3648),o=r(6718),i=r(8790),l=r(320),u=r(8740),c=r(6246),d=r(2859);function DashboardPage(){var e,t,r,h,x;let{state:m,dispatch:v}=(0,c.a)(),g=(0,d.useRouter)();return m.isAuthenticated?(0,n.jsxs)(s.Z,{maxWidth:"lg",sx:{py:4},children:[(0,n.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[(0,n.jsx)(o.Z,{variant:"h4",component:"h1",children:"Welcome to SnipShift 2.0 Dashboard"}),(0,n.jsx)(i.Z,{variant:"outlined",onClick:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userData"),v({type:"CLEAR_AUTH"}),g.push("/")},children:"Logout"})]}),(0,n.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,n.jsx)(l.ZP,{item:!0,xs:12,md:6,children:(0,n.jsxs)(u.Z,{sx:{p:3},children:[(0,n.jsx)(o.Z,{variant:"h6",gutterBottom:!0,children:"Registration Test Results"}),(0,n.jsx)(o.Z,{variant:"body1",color:"success.main",sx:{mb:2},children:"✅ Integration test completed successfully!"}),(0,n.jsxs)(a.Z,{sx:{mt:2},children:[(0,n.jsx)(o.Z,{variant:"subtitle2",gutterBottom:!0,children:"User Information:"}),(0,n.jsxs)(o.Z,{variant:"body2",children:[(0,n.jsx)("strong",{children:"Name:"})," ",null===(e=m.user)||void 0===e?void 0:e.firstName," ",null===(t=m.user)||void 0===t?void 0:t.lastName]}),(0,n.jsxs)(o.Z,{variant:"body2",children:[(0,n.jsx)("strong",{children:"Email:"})," ",null===(r=m.user)||void 0===r?void 0:r.email]}),(0,n.jsxs)(o.Z,{variant:"body2",children:[(0,n.jsx)("strong",{children:"Role:"})," ",null===(h=m.user)||void 0===h?void 0:h.role]}),(0,n.jsxs)(o.Z,{variant:"body2",children:[(0,n.jsx)("strong",{children:"User ID:"})," ",null===(x=m.user)||void 0===x?void 0:x.id]})]})]})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,md:6,children:(0,n.jsxs)(u.Z,{sx:{p:3},children:[(0,n.jsx)(o.Z,{variant:"h6",gutterBottom:!0,children:"API Integration Status"}),(0,n.jsx)(o.Z,{variant:"body2",color:"success.main",children:"✅ GraphQL API Connected"}),(0,n.jsx)(o.Z,{variant:"body2",color:"success.main",children:"✅ Authentication Working"}),(0,n.jsx)(o.Z,{variant:"body2",color:"success.main",children:"✅ User Registration Complete"}),(0,n.jsx)(o.Z,{variant:"body2",color:"success.main",children:"✅ JWT Token Received"})]})})]})]}):(g.push("/auth/register"),null)}},6246:function(e,t,r){"use strict";r.d(t,{H:function(){return AuthProvider},a:function(){return useAuth}});var n=r(7573),s=r(9585);let a={user:null,token:null,loading:!0,isAuthenticated:!1},authReducer=(e,t)=>{switch(t.type){case"SET_LOADING":return{...e,loading:t.payload};case"SET_AUTH":return{...e,user:t.payload.user,token:t.payload.token,isAuthenticated:!0,loading:!1};case"CLEAR_AUTH":return{...e,user:null,token:null,isAuthenticated:!1,loading:!1};case"UPDATE_USER":return{...e,user:e.user?{...e.user,...t.payload}:null};default:return e}},o=(0,s.createContext)(null),useAuth=()=>{let e=(0,s.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},AuthProvider=e=>{let{children:t}=e,[r,i]=(0,s.useReducer)(authReducer,a);return(0,s.useEffect)(()=>{let e=localStorage.getItem("authToken"),t=localStorage.getItem("userData");if(e&&t)try{let r=JSON.parse(t);i({type:"SET_AUTH",payload:{user:r,token:e}})}catch(e){console.error("Error parsing stored user data:",e),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),i({type:"SET_LOADING",payload:!1})}else i({type:"SET_LOADING",payload:!1})},[]),(0,n.jsx)(o.Provider,{value:{state:r,dispatch:i},children:t})}},2859:function(e,t,r){e.exports=r(7699)}},function(e){e.O(0,[424,993,320,293,53,744],function(){return e(e.s=4274)}),_N_E=e.O()}]);