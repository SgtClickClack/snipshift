# Environment Configuration for SnipShift 2.0
# Copy this file to .env.local and update with your actual values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV=development
PORT=3000
API_PORT=4000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection string
DATABASE_URL=postgresql://username:password@localhost:5432/snipshift_dev

# Database connection pool settings
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=20000
DB_POOL_CONNECTION_TIMEOUT=10000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis connection string
REDIS_URL=redis://localhost:6379

# Redis connection settings
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=100
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT secrets (generate strong secrets for production)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production

# JWT token expiration times (in seconds)
JWT_EXPIRES_IN=3600
JWT_REFRESH_EXPIRES_IN=604800

# Password hashing
BCRYPT_ROUNDS=12

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS settings
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# SendGrid Email
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@snipshift.com

# Stripe Payments
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Firebase Admin
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour private key here\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com

# Google Cloud Storage
GCS_PROJECT_ID=your-gcs-project-id
GCS_BUCKET_NAME=snipshift-storage
GCS_KEY_FILE=path/to/service-account-key.json

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Logging level (error, warn, info, debug)
LOG_LEVEL=info

# Sentry error tracking
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=development

# Performance monitoring
ENABLE_PERFORMANCE_MONITORING=true
PERFORMANCE_SAMPLE_RATE=0.1

# =============================================================================
# CACHE SETTINGS
# =============================================================================
# Cache TTL settings (in seconds)
CACHE_USER_TTL=3600
CACHE_JOB_TTL=1800
CACHE_SOCIAL_FEED_TTL=900
CACHE_TRAINING_CONTENT_TTL=7200

# =============================================================================
# FILE UPLOAD SETTINGS
# =============================================================================
# Maximum file size (in bytes)
MAX_FILE_SIZE=10485760

# Allowed file types
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp

# Upload directory
UPLOAD_DIR=uploads

# =============================================================================
# SOCIAL FEATURES
# =============================================================================
# Social feed settings
SOCIAL_FEED_PAGE_SIZE=20
SOCIAL_FEED_CACHE_TTL=900

# Chat settings
CHAT_MESSAGE_PAGE_SIZE=50
CHAT_MESSAGE_CACHE_TTL=300

# =============================================================================
# TRAINING PLATFORM
# =============================================================================
# Training content settings
TRAINING_CONTENT_PAGE_SIZE=10
TRAINING_PROGRESS_CACHE_TTL=1800

# =============================================================================
# NOTIFICATIONS
# =============================================================================
# Push notification settings
FCM_SERVER_KEY=your-fcm-server-key
FCM_PROJECT_ID=your-fcm-project-id

# Email notification settings
EMAIL_NOTIFICATIONS_ENABLED=true
SMS_NOTIFICATIONS_ENABLED=false

# =============================================================================
# ANALYTICS
# =============================================================================
# Google Analytics
GA_TRACKING_ID=GA-XXXXXXXXX-X

# Mixpanel
MIXPANEL_TOKEN=your-mixpanel-token

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Development-specific settings
DEV_HOT_RELOAD=true
DEV_SOURCE_MAPS=true
DEV_DEBUG_MODE=true

# Test database (for running tests)
TEST_DATABASE_URL=postgresql://username:password@localhost:5432/snipshift_test

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
# Production-specific settings (override in production)
PROD_COMPRESSION=true
PROD_MINIFY=true
PROD_CACHE_STATIC=true
PROD_CDN_URL=https://cdn.snipshift.com

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable features
FEATURE_SOCIAL_FEED=true
FEATURE_TRAINING_PLATFORM=true
FEATURE_CHAT_SYSTEM=true
FEATURE_PAYMENT_INTEGRATION=true
FEATURE_PUSH_NOTIFICATIONS=true
FEATURE_ANALYTICS=true

# =============================================================================
# API LIMITS
# =============================================================================
# API rate limits
API_RATE_LIMIT_WINDOW_MS=900000
API_RATE_LIMIT_MAX_REQUESTS=1000

# GraphQL query complexity limit
GRAPHQL_QUERY_COMPLEXITY_LIMIT=1000

# Maximum query depth
GRAPHQL_QUERY_DEPTH_LIMIT=10

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Security headers
SECURITY_HEADERS_ENABLED=true
SECURITY_CSP_ENABLED=true

# Session settings
SESSION_SECRET=your-session-secret-key
SESSION_MAX_AGE=86400000

# Password policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# =============================================================================
# MOBILE APP SETTINGS
# =============================================================================
# Mobile app configuration
MOBILE_APP_VERSION=2.0.0
MOBILE_MIN_VERSION=1.0.0
MOBILE_FORCE_UPDATE=false

# =============================================================================
# WEBHOOK SETTINGS
# =============================================================================
# Webhook endpoints
WEBHOOK_STRIPE_ENDPOINT=/webhooks/stripe
WEBHOOK_GOOGLE_ENDPOINT=/webhooks/google

# Webhook verification
WEBHOOK_VERIFY_SIGNATURES=true

# =============================================================================
# BACKUP SETTINGS
# =============================================================================
# Database backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=snipshift-backups

# =============================================================================
# HEALTH CHECK SETTINGS
# =============================================================================
# Health check endpoints
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# =============================================================================
# DEBUGGING
# =============================================================================
# Debug settings
DEBUG_MODE=false
DEBUG_SQL_QUERIES=false
DEBUG_REDIS_OPERATIONS=false
DEBUG_CACHE_OPERATIONS=false

# =============================================================================
# CUSTOM SETTINGS
# =============================================================================
# Add any custom environment variables here
CUSTOM_SETTING_1=value1
CUSTOM_SETTING_2=value2