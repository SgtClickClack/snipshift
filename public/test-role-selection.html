<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snipshift Role Selection</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 50px auto; padding: 20px; }
        .role-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0; }
        .role-card { border: 2px solid #ccc; border-radius: 8px; padding: 20px; cursor: pointer; transition: all 0.3s; }
        .role-card:hover { border-color: #007bff; }
        .role-card.selected { border-color: #007bff; background-color: #f8f9fa; }
        .role-checkbox { margin-right: 10px; }
        .error { color: red; margin-top: 10px; }
        .success { color: green; margin-top: 10px; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:disabled { background: #ccc; cursor: not-allowed; }
    </style>
</head>
<body>
    <h1>Welcome to Snipshift!</h1>
    <p>Select one or more roles to personalize your experience.</p>
    
    <div id="success-message" class="success" style="display: none;"></div>
    
    <div class="role-grid">
        <div class="role-card" data-testid="button-select-professional">
            <input type="checkbox" class="role-checkbox" data-testid="role-checkbox-professional">
            <strong>Professional</strong>
            <p>Barbers and stylists looking for work opportunities</p>
        </div>
        
        <div class="role-card" data-testid="button-select-hub">
            <input type="checkbox" class="role-checkbox" data-testid="role-checkbox-hub">
            <strong>Hub</strong>
            <p>Barbershop owners posting jobs and managing staff</p>
        </div>
        
        <div class="role-card" data-testid="button-select-brand">
            <input type="checkbox" class="role-checkbox" data-testid="role-checkbox-brand">
            <strong>Brand</strong>
            <p>For product companies and educators to connect with professionals</p>
        </div>
        
        <div class="role-card" data-testid="button-select-trainer">
            <input type="checkbox" class="role-checkbox" data-testid="role-checkbox-trainer">
            <strong>Trainer</strong>
            <p>Educators and trainers providing professional development</p>
        </div>
    </div>
    
    <button id="confirm-button" data-testid="confirm-roles-button" disabled>
        Continue to Dashboard
    </button>

    <script>
        const roleCards = document.querySelectorAll('.role-card');
        const checkboxes = document.querySelectorAll('.role-checkbox');
        const confirmButton = document.getElementById('confirm-button');
        const successMessage = document.getElementById('success-message');
        
        let selectedRoles = [];
        
        roleCards.forEach((card, index) => {
            card.addEventListener('click', function() {
                const checkbox = checkboxes[index];
                checkbox.checked = !checkbox.checked;
                updateSelection();
            });
        });
        
        checkboxes.forEach((checkbox, index) => {
            checkbox.addEventListener('change', updateSelection);
        });
        
        function updateSelection() {
            selectedRoles = [];
            checkboxes.forEach((checkbox, index) => {
                if (checkbox.checked) {
                    selectedRoles.push(checkbox.dataset.testid.replace('role-checkbox-', ''));
                    roleCards[index].classList.add('selected');
                } else {
                    roleCards[index].classList.remove('selected');
                }
            });
            
            confirmButton.disabled = selectedRoles.length === 0;
            confirmButton.textContent = selectedRoles.length > 1 ? 
                'Continue with selected roles' : 'Continue to Dashboard';
        }
        
        confirmButton.addEventListener('click', function() {
            if (selectedRoles.length > 0) {
                showMessage('Welcome! Please select your role');
                setTimeout(() => {
                    window.location.href = '/onboarding/hub';
                }, 1000);
            }
        });
        
        function showMessage(message) {
            successMessage.textContent = message;
            successMessage.style.display = 'block';
        }
    </script>
</body>
</html>
